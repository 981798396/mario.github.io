<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>“免杀shellcode加载器——加密混淆系列”</title>
    <link href="/2023/03/24/%E2%80%9C%E5%85%8D%E6%9D%80shellcode%E5%8A%A0%E8%BD%BD%E5%99%A8%E2%80%94%E2%80%94%E5%8A%A0%E5%AF%86%E6%B7%B7%E6%B7%86%E7%B3%BB%E5%88%97%E2%80%9D/"/>
    <url>/2023/03/24/%E2%80%9C%E5%85%8D%E6%9D%80shellcode%E5%8A%A0%E8%BD%BD%E5%99%A8%E2%80%94%E2%80%94%E5%8A%A0%E5%AF%86%E6%B7%B7%E6%B7%86%E7%B3%BB%E5%88%97%E2%80%9D/</url>
    
    <content type="html"><![CDATA[<h3 id="Python加载shellcode免杀介绍"><a href="#Python加载shellcode免杀介绍" class="headerlink" title="Python加载shellcode免杀介绍"></a>Python加载shellcode免杀介绍</h3><p>由于python使⽤比较简单⽅便，所以现在很多免杀都是使用python来对shellcode进行处理，做一些加密、混淆，用python来实现各种加密也比较简单而且免杀效果相对不错，唯⼀不足的地方就是py编译生成的exe文件比较大（本文将介绍如何缩小python代码）<br>VirusTotal：<br><img src="/../images/20230324172413.png"><br>微步：<br><img src="/../images/20230324172811.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>对某靶机环境进行渗透测试</title>
    <link href="/2022/11/28/%E5%AF%B9%E6%9F%90%E9%9D%B6%E6%9C%BA%E8%BF%9B%E8%A1%8C%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    <url>/2022/11/28/%E5%AF%B9%E6%9F%90%E9%9D%B6%E6%9C%BA%E8%BF%9B%E8%A1%8C%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h2 id="此靶机根据某博彩网站的真实环境所搭建。"><a href="#此靶机根据某博彩网站的真实环境所搭建。" class="headerlink" title="此靶机根据某博彩网站的真实环境所搭建。"></a>此靶机根据某博彩网站的真实环境所搭建。</h2><h3 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h3><p>在VMwareWorkstation中导入虚拟机<br><img src="/../images/9c47491f80d2fe12fe91697501b1f82.png"></p><p>开启虚拟机并登陆root账号，并查看apache服务是否开启</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps -ef |grep httpd<br>ps -aux | grep httpd<br></code></pre></td></tr></table></figure><p><img src="/../images/8108a693a1e75ef188444c52ad689fa.png"></p><p>查看ip地址</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ifconfig<br></code></pre></td></tr></table></figure><p><img src="/../images/a27143effacc23b122a0cd5c836d906.png"></p><h3 id="渗透过程"><a href="#渗透过程" class="headerlink" title="渗透过程"></a>渗透过程</h3><p>进入登录界面<br><img src="/../images/101110.png"></p><p>注册账号并进入网站<br><img src="/../images/101529.png"></p><p>点击商品<br><img src="/../images/103447.png"></p><p>url：<a href="http://192.168.206.128/index/goods/goods/pid/26/token/ad24fd9361665783a57e6f8be4ef67ce.html">http://192.168.206.128/index/goods/goods/pid/26/token/ad24fd9361665783a57e6f8be4ef67ce.html</a></p><p>发现参数pid后面的数字为注入点,用sqlmap跑出管理员账号密码(在指定注入的位置加上*）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sqlmap -r target.txt  --prefix <span class="hljs-string">&quot;26)&quot;</span> --suffix <span class="hljs-string">&quot;%23&quot;</span> -D weipans -T wp_userinfo --dump<br></code></pre></td></tr></table></figure><p>target.txt内容:<br><img src="/../images/135657.png"></p><p>管理员密码的md5值:<br><img src="/../images/134520.png"></p><p>md5值解密：<br><img src="/../images/140639.png"></p><p>进入网站后台并在参数设置-基本设置处发现文件上传点:<br><img src="/../images/141259.png"></p><p>上传冰蝎马并通过查看页面源代码确定上传位置:<br><img src="/../images/143456.png"></p><p>连接冰蝎,利用命令执行反弹shell并利用suid提权:<br><img src="/../images/144813.png"></p><p>发现find有suid表示位，所以可以利用find提权：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> 111<br>find 111 -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">whoami</span> \;<br></code></pre></td></tr></table></figure><p>提权成功：<br><img src="/../images/154129.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
